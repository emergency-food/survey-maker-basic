(this.webpackJsonpsurveyor=this.webpackJsonpsurveyor||[]).push([[0],{51:function(e,t,a){e.exports=a(62)},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),s=a.n(l),c=a(8),u=a(30),i=a(5),o=a(16),d=a(25),m=a(28),v=Object(d.b)({name:"settings",initialState:{locale:"en"},reducers:{settingsUpdateLocale:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{locale:t.payload})}}}),b=v.actions.settingsUpdateLocale,p=v.reducer,y=a(48),E=a(66),f=a(67),h=a(71),g=Object(d.b)({name:"surveys",initialState:[],reducers:{surveysCreateOne:function(e,t){return[].concat(Object(y.a)(e),[Object(m.a)(Object(m.a)({},t.payload),{},{_id:Object(h.a)(),tsCreated:Object(E.a)(new Date)})])}}}),O=g.actions.surveysCreateOne,j=g.reducer,w=function(){var e=Object(f.a)().formatMessage;return{new:e({id:"survey-status.new"}),"in-progress":e({id:"survey-status.in-progress"}),completed:e({id:"survey-status.completed"})}},S=Object(o.c)({settings:p,surveys:j}),I=Object(d.a)({reducer:S}),x=function(e){return e},M=function(e){return e.settings},k=function(e){return e.surveys},F=function(){var e=Object(c.c)(x);return n.createElement("pre",null,JSON.stringify(e,null,2))},V=function(){var e=function(){var e=Object(f.a)().formatMessage;return[{url:"/create-survey",description:e({id:"create-survey.header"})},{url:"/surveys",description:e({id:"list-surveys.all"})},{url:"/surveys/new",description:e({id:"list-surveys.new"})},{url:"/surveys/in-progress",description:e({id:"list-surveys.in-progress"})},{url:"/surveys/completed",description:e({id:"list-surveys.completed"})},{url:"/settings",description:e({id:"settings"})}]}();return n.createElement("nav",null,n.createElement("ul",null,e.map((function(e,t){var a=e.url,r=e.description;return n.createElement("li",{key:t},n.createElement(u.b,{to:a,style:{display:"inline-block",padding:8}},r))}))))},D={en:"English",es:"Espa\xf1ol"},T=a(15),C=function(e){var t=e.labelText,a=e.children;return n.createElement("label",{style:{display:"block",marginTop:24}},n.createElement("div",{style:{marginBottom:8}},t),a)};function q(e){var t=e.labelId,a=e.options,r=e.initialValue,l=Object(f.a)().formatMessage,s=n.useState(r),c=Object(T.a)(s,2),u=c[0],i=c[1];return{selectedValue:u,selectField:n.createElement(C,{labelText:l({id:t})},n.createElement("select",{onChange:function(e){return i(e.currentTarget.value)},value:u},Object.entries(a).map((function(e){var t=Object(T.a)(e,2),a=t[0],r=t[1];return n.createElement("option",{key:a,value:a},r)}))))}}var L=function(){var e=Object(f.a)().formatMessage,t=Object(c.c)(M).locale,a=Object(c.b)(),r=q({labelId:"locale",options:D,initialValue:t}),l=r.selectedValue,s=r.selectField;return n.useEffect((function(){a(b(l))}),[a,l]),n.createElement(n.Fragment,null,n.createElement("h2",null,e({id:"settings"})),s)},R=a(72),N=a(36),B=function(){var e=function(e){var t=e.labelId,a=e.isRequired,r=e.mode,l=Object(f.a)().formatMessage,s=n.useState(),c=Object(T.a)(s,2),u=c[0],i=c[1],o="future-only"===r?Object(E.a)(new Date,{representation:"date"}):void 0,d="past-only"===r?Object(E.a)(new Date,{representation:"date"}):void 0;return{inputValue:u,inputField:n.createElement(C,{labelText:l({id:t})},n.createElement("input",{type:"date",value:void 0===u?"":Object(E.a)(u,{representation:"date"}),min:o,max:d,required:a,onChange:function(e){var t=Object(R.a)(e.target.value);Object(N.a)(t)&&i(t)}}))}}({labelId:"create-survey.launch-date-label",isRequired:!1,mode:"future-only"});return{launchDate:e.inputValue,launchDateInput:e.inputField}},J=function(){var e=function(e){var t=e.labelId,a=e.isRequired,r=Object(f.a)().formatMessage,l=n.useState(),s=Object(T.a)(l,2),c=s[0],u=s[1];return{inputValue:c,inputField:n.createElement(C,{labelText:r({id:t})},n.createElement("input",{type:"text",value:c||"",required:a,onChange:function(e){return u(e.target.value)}}))}}({labelId:"create-survey.title-label",isRequired:!0});return{titleValue:e.inputValue,titleInput:e.inputField}},_=function(){var e=Object(f.a)().formatMessage,t=Object(i.g)(),a=Object(c.b)(),r=J(),l=r.titleValue,s=r.titleInput,u=B(),o=u.launchDate,d=u.launchDateInput,m=function(){var e=q({labelId:"create-survey.status-label",options:w(),initialValue:"new"});return{initialStatus:e.selectedValue,initialStatusSelect:e.selectField}}(),v=m.initialStatus,b=m.initialStatusSelect,p=n.useState(!1),y=Object(T.a)(p,2),h=y[0],g=y[1];n.useEffect((function(){g(!1)}),[l]);return n.createElement(n.Fragment,null,n.createElement("h2",null,e({id:"create-survey.header"})),n.createElement("form",{onSubmit:function(e){if(e.preventDefault(),void 0===l)return g(!0);a(O({title:l,launchDate:void 0===o?void 0:Object(E.a)(o),status:v})),t.push("/surveys")}},s,d,b,n.createElement("div",{style:{marginTop:32}},n.createElement("button",{type:"submit"},e({id:"create-survey.submit"}))),h&&n.createElement("div",{style:{color:"red"}},e({id:"create-survey.missing-title-error"}))))},A=a(42),U=a.n(A),W=a(47),G=a(70),$=function(){return n.createElement("div",null,"Loading...")},z=function(e){switch(e){case"es":return a.e(4).then(a.t.bind(null,73,3));default:return a.e(3).then(a.t.bind(null,74,3))}},H=function(e){var t=e.children,a=Object(c.c)(M).locale,r=n.useState(),l=Object(T.a)(r,2),s=l[0],u=l[1];return n.useEffect((function(){Object(W.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(a);case 2:t=e.sent,u(t.default);case 4:case"end":return e.stop()}}),e)})))()}),[a]),s?n.createElement(G.a,{messages:s,locale:a,defaultLocale:"en",onError:function(e){if("MISSING_TRANSLATION"!==e.code)throw e}},t):n.createElement($,null)},K=a(69),P=a(68),Q={border:"solid 1px black",padding:8},X=["list-surveys.title-header","list-surveys.creation-date-header","list-surveys.launch-date-header","list-surveys.status-header"],Y=function(){var e=Object(f.a)().formatMessage;return n.createElement("thead",null,n.createElement("tr",null,X.map((function(t,a){return n.createElement("th",{key:a,style:Q},e({id:t}))}))))},Z=function(e){var t=e.surveys,a=w(),r=Object(f.a)().formatMessage;return n.createElement("tbody",null,t.map((function(e){var t=e._id,l=e.title,s=e.tsCreated,c=e.launchDate,u=e.status,i=Object(P.a)(Object(R.a)(s)),o=void 0===c?r({id:"em-dash"}):Object(P.a)(Object(R.a)(c));return n.createElement("tr",{key:t},n.createElement("td",{style:Q},l),n.createElement("td",{style:Q},i),n.createElement("td",{style:Q},o),n.createElement("td",{style:Q},a[u]))})))},ee=function(){return n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{colSpan:X.length,style:Q},n.createElement(K.a,{id:"list-surveys.empty-table"}))))},te=function(e){var t=e.surveys;return n.createElement("table",{style:{border:"solid 1px black",borderCollapse:"collapse"}},n.createElement(Y,null),t.length>0?n.createElement(Z,{surveys:t}):n.createElement(ee,null))},ae=function(){var e=Object(c.c)(k);return n.createElement(n.Fragment,null,n.createElement("h2",null,n.createElement(K.a,{id:"list-surveys.all"})),n.createElement(te,{surveys:e}))},ne=function(e){var t=e.status,a=e.headerMsgId,r=function(e){var t=Object(c.c)(k);return Object(n.useMemo)((function(){return t.filter((function(t){return t.status===e}))}),[t,e])}(t);return n.createElement(n.Fragment,null,n.createElement("h2",null,n.createElement(K.a,{id:a})),n.createElement(te,{surveys:r}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,{store:I},r.a.createElement(H,null,r.a.createElement(u.a,null,r.a.createElement("div",{style:{fontFamily:"sans-serif"}},r.a.createElement(V,null),r.a.createElement("hr",null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/settings"},r.a.createElement(L,null)),r.a.createElement(i.b,{exact:!0,path:"/create-survey"},r.a.createElement(_,null)),r.a.createElement(i.b,{exact:!0,path:"/surveys"},r.a.createElement(ae,null)),r.a.createElement(i.b,{exact:!0,path:"/surveys/new"},r.a.createElement(ne,{status:"new",headerMsgId:"list-surveys.new"})),r.a.createElement(i.b,{exact:!0,path:"/surveys/in-progress"},r.a.createElement(ne,{status:"in-progress",headerMsgId:"list-surveys.in-progress"})),r.a.createElement(i.b,{exact:!0,path:"/surveys/completed"},r.a.createElement(ne,{status:"completed",headerMsgId:"list-surveys.completed"})),r.a.createElement(i.b,{path:"*"},r.a.createElement(i.a,{to:"/surveys"}))),r.a.createElement("hr",null),r.a.createElement(F,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.0e58ad01.chunk.js.map